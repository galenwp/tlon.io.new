---
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="shortcut icon" type="image/png" href="favicon.svg"/>
		<link rel="apple-touch-icon" href="favicon.svg">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="generator" content={Astro.generator} />
				
		<!-- Primary Meta Tags -->
		<title>Tlon Corporation</title>
		<meta name="title" 					content="Tlon Corporation">
		<meta name="description" 			content="Tlon exists to build exceptionally well-crafted software for people’s everyday lives.">

		<!-- Open Graph / Facebook -->
		<meta property="og:type" 			content="website">
		<meta property="og:url" 			content="https://tlon.io/">
		<meta property="og:title" 			content="Tlon Corporation">
		<meta property="og:description" 	content="Tlon exists to build exceptionally well-crafted software for people’s everyday lives.">
		<meta property="og:image" 			content="https://d2w9rnfcy7mm78.cloudfront.net/20991844/original_05337a7edcadf2b018a2c4d14d4a3139.png">

		<!-- Twitter cards -->
		<meta name="twitter:site"    		content="@tloncorporation">
		<meta name="twitter:title"   		content="Tlon Corporation">
		<meta name="twitter:description" 	content="Tlon exists to build exceptionally well-crafted software for people’s everyday lives.">   
		<meta name="twitter:card"  			content="summary_large_image">
		<meta name="twitter:image" 			content="https://d2w9rnfcy7mm78.cloudfront.net/20991844/original_05337a7edcadf2b018a2c4d14d4a3139.png">
	</head>
	<body class="
		grid
		grid-cols-12
		gap-4
		
		text-md
		lg:text-xl
		antialiased

		dark:bg-black
		dark:text-white
	">
		<Nav/>
			<slot/>
		<Footer/>
	</body>
</html>

<style>
	@font-face {
	  font-family: 'Diatype Mono Variable';
	  src: url('/fonts/ABCDiatypeMonoVariable.woff2') format('woff2');
	  font-style: normal;
	  font-weight: 333;
	  font-display: swap;
	  font-named-instance: 'Regular';
	}
  
	  :root { font-family: 'Diatype Mono Variable', monospace; }
	  @supports (font-variation-settings: normal) {
		:root { font-family: 'Diatype Mono Variable', monospace; }
	  }
  </style>

<script>
  import posthog from 'posthog-js';
  if(import.meta.env.PROD) {
    console.log('init posthog prod');
    posthog.init('phc_pEVFBA3JBtxRERg7oR25R6LwaKB7yUakpMKLlOoVpuZ',{
      api_host:'https://eu.posthog.com',
    })
  } else {
    console.log('init posthog dev');
    posthog.init('phc_6BDPOnBfls3Axc5WAbmN8pQKk3YqhfWoc0tXj9d9kx0',{
      api_host:'https://eu.posthog.com',
    })
  }
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // get the navbar and the first element on the page
        let navbar = document.querySelector('#navbar');
        let firstElement = document.querySelector('section');
    
        // create an Intersection Observer instance
        let observer = new IntersectionObserver(function(entries) {
        // if the first element is not intersecting (i.e., it's covered by the navbar)
        if(!entries[0].isIntersecting) {
            // add the border-b class to the navbar
            navbar.classList.add('border-b');
        } else {
            // remove the border-b class from the navbar
            navbar.classList.remove('border-b');
        }
        }, { threshold: 1 });  // 10% of the first element is visible
    
        // start observing the first element
        observer.observe(firstElement);
    });
</script>